#!/usr/bin/env bash

source "$VIBRANIUM_PATH/vibranium-core-lib"

INDEX=0
OPTIONS=( "Hyprland wiki"  "Vibranium wiki"  "Arch Linux wiki" "How to: package manager" )

while true; do
	CHOSEN="$(printf "%s\n" "${OPTIONS[@]}" | rofi_cmd "Help" "ESC to go back" -selected-row "$INDEX")"
	[[ -z "$CHOSEN" ]] && exit 0

    for i in "${!OPTIONS[@]}"; do
        if [ "${OPTIONS[$i]}" = "$CHOSEN" ]; then
			INDEX="$i"
			break
        fi
    done

	case "$CHOSEN" in
		"Hyprland wiki")
			LINK="https://wiki.hypr.land"
			;;
		"Arch Linux wiki")
			LINK="https://wiki.archlinux.org"
			;;
		"How"*)
			LINK="https://wiki.archlinux.org/title/Pacman"
			;;
		"Vibranium wiki")
			notify-send -r 1 "Vibranium" "Hold on, Vibranium is still in beta"
			break
	esac

	vibranium-cmd-launch-cmd chromium --app="$LINK"
	vibranium-cmd-kill-rofi
done
